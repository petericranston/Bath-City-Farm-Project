<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sheep at the Farm</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="../../Bath-City-Farm-Project/styles/info-pages-stylesheet.css"
    />
  </head>
  <body>
    <header>
      <!-- Page Title -->
      <div class="top-header">ğŸ‘ Sheep</div>
      <a href="index.html" class="close-button" aria-label="Close Page"
        >&times;</a
      >
    </header>

    <main>
      <div class="content-container">
        <div class="bubble bubble-blue text-center">
          <h2>ğŸ All About Sheep!</h2>
          <p>Sheep are fluffy animals that live in herds and go baa!</p>
        </div>

        <!-- First Image -->

        <img
          src="../HomePage-InfoPages/Content/Sheep.jpg"
          alt="Sheep image 1"
          class="animal-image"
        />

        <div class="bubble bubble-yellow">
          <h4>ğŸ¡ Where Do Sheep Live?</h4>
          <p>
            Sheep live in fields and barns. They love grass and open spaces to
            run around.
          </p>
        </div>

        <div class="bubble bubble-green">
          <h4>ğŸ½ï¸ What Do Sheep Eat?</h4>
          <p>
            Sheep mostly eat grass, hay, and grains. They munch all day long!
          </p>
        </div>

        <!-- Second Image -->
        <img
          src="../HomePage-InfoPages/Content/sheepGif.gif"
          alt="Sheep image 2"
          class="animal-image"
        />

        <div class="bubble bubble-orange">
          <h4>ğŸ§¶ What Do Sheep Give Us?</h4>
          <p>
            Sheep grow wool, which we use to make clothes like jumpers and
            socks.
          </p>
        </div>

        <div class="bubble bubble-green">
          <h4>ğŸ‘‚ Fun Sheep Facts!</h4>
          <ul>
            <li>Sheep say â€œbaaâ€ and stay in groups called flocks.</li>
            <li>Wool keeps them warm in cold weather.</li>
            <li>They are gentle and love grass!</li>
          </ul>
        </div>

        <!-- Quiz Intro -->
        <div class="bubble bubble-orange">
          <h4>ğŸ§  Sheep Pop Quiz!</h4>
          <p>Letâ€™s see what you remember about our woolly friends! ğŸ‘</p>
        </div>

        <!-- Question 1 -->
        <div class="bubble bubble-yellow">
          <h5>1. What sound do sheep make?</h5>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q1"
              value="correct"
            />
            <label class="form-check-label"
              >Baa ğŸ‘ <span class="feedback"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q1"
              value="wrong"
            />
            <label class="form-check-label"
              >Moo ğŸ® <span class="feedback"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q1"
              value="wrong"
            />
            <label class="form-check-label"
              >Woof ğŸ¶ <span class="feedback"></span
            ></label>
          </div>
        </div>

        <!-- Question 2 -->
        <div class="bubble bubble-green">
          <h5>2. What do sheep eat?</h5>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q2"
              value="correct"
            />
            <label class="form-check-label"
              >Grass and hay ğŸŒ± <span class="feedback"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q2"
              value="wrong"
            />
            <label class="form-check-label"
              >Burgers ğŸ” <span class="feedback"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q2"
              value="wrong"
            />
            <label class="form-check-label"
              >Candy ğŸ¬ <span class="feedback"></span
            ></label>
          </div>
        </div>

        <!-- Question 3 -->
        <div class="bubble bubble-blue">
          <h5>3. What do we get from sheep?</h5>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q3"
              value="correct"
            />
            <label class="form-check-label"
              >Wool ğŸ§¶ <span class="feedback"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q3"
              value="wrong"
            />
            <label class="form-check-label"
              >Feathers ğŸª¶ <span class="feedback"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q3"
              value="wrong"
            />
            <label class="form-check-label"
              >Eggs ğŸ¥š <span class="feedback"></span
            ></label>
          </div>
        </div>

        <!-- Question 4 -->
        <div class="bubble bubble-orange">
          <h5>4. What is a group of sheep called?</h5>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q4"
              value="wrong"
            />
            <label class="form-check-label"
              >Herd ğŸ„ <span class="feedback"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q4"
              value="correct"
            />
            <label class="form-check-label"
              >Flock ğŸ‘ <span class="feedback"></span
            ></label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="q4"
              value="wrong"
            />
            <label class="form-check-label"
              >Swarm ğŸ <span class="feedback"></span
            ></label>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="text-center mt-4">
          <button class="btn btn-success btn-lg" onclick="checkAnswers()">
            âœ… Check My Answers
          </button>
          <button
            id="retryBtn"
            class="btn btn-warning btn-lg d-none mt-2"
            onclick="resetQuiz()"
          >
            ğŸ” Try Again
          </button>
        </div>

        <!-- Score + Sticker Button -->
        <div
          id="quiz-score"
          class="bubble bubble-yellow mt-4 text-center d-none"
        >
          <h4 id="score-message"></h4>
          <p>ğŸŒŸ Great job learning about Sheep!</p>
        </div>

        <div id="sticker-button" class="text-center mt-4 d-none">
          <button
            class="btn btn-primary btn-lg"
            onclick="claimSticker('sheep')"
          >
            Collect Sheep Sticker
          </button>
        </div>
      </div>
    </main>

    <!-- Scripts -->
    <script>
      function checkAnswers() {
        const questions = ["q1", "q2", "q3", "q4"];
        let score = 0;

        questions.forEach((q) => {
          const radios = document.getElementsByName(q);
          radios.forEach((radio) => {
            const label = radio.nextElementSibling;
            const feedback = label.querySelector(".feedback");
            feedback.textContent = ""; // reset

            if (radio.checked) {
              if (radio.value === "correct") {
                feedback.textContent = " âœ… Correct!";
                feedback.style.color = "green";
                score++;
              } else {
                feedback.textContent = " âŒ Oops!";
                feedback.style.color = "red";
              }
              feedback.style.fontWeight = "bold";
            }
          });
        });

        const scoreBox = document.getElementById("quiz-score");
        const message = document.getElementById("score-message");
        scoreBox.classList.remove("d-none");

        const stickerBtn = document.getElementById("sticker-button");
        const retryBtn = document.getElementById("retryBtn");

        if (score === 4) {
          message.innerHTML = `ğŸ‰ Perfect! You got all <strong>4 out of 4</strong> correct!`;
          stickerBtn.classList.remove("d-none");
          retryBtn.classList.add("d-none");
        } else {
          message.innerHTML = `Oops! You got <strong>${score} out of 4</strong>. Try again to collect the sticker!`;
          retryBtn.classList.remove("d-none");
          stickerBtn.classList.add("d-none");
        }
      }

      function resetQuiz() {
        const questions = ["q1", "q2", "q3", "q4"];
        questions.forEach((q) => {
          document.getElementsByName(q).forEach((radio) => {
            radio.checked = false;
            const feedback =
              radio.nextElementSibling.querySelector(".feedback");
            if (feedback) {
              feedback.textContent = "";
            }
          });
        });

        document.getElementById("quiz-score").classList.add("d-none");
        document.getElementById("sticker-button").classList.add("d-none");
        document.getElementById("retryBtn").classList.add("d-none");
      }

      function claimSticker(pageKey) {
        const stickerMap = {
          rabbit: "ğŸ‡",
          chicken: "ğŸ”",
          pig: "ğŸ·",
          cow: "ğŸ®",
          duck: "ğŸ¦†",
          sheep: "ğŸ‘",
        };

        let stickers = JSON.parse(localStorage.getItem("stickers")) || [];
        let claimed = JSON.parse(localStorage.getItem("claimedStickers")) || {};

        if (claimed[pageKey]) {
          alert("You already collected this sticker!");
          return;
        }

        const newSticker = stickerMap[pageKey];
        stickers.push(newSticker);
        claimed[pageKey] = true;

        localStorage.setItem("stickers", JSON.stringify(stickers));
        localStorage.setItem("claimedStickers", JSON.stringify(claimed));
        alert(`Yay! You collected the ${newSticker} sticker!`);
      }
    </script>
  </body>
</html>
